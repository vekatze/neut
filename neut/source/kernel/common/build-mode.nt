import {
  this.app.app {app},
  this.app.error {new-error'},
}

data build-mode {
| Develop
| Release
}

define text-from-build-mode(bm: build-mode): &text {
  match bm {
  | Develop =>
    "develop"
  | Release =>
    "release"
  }
}

define build-mode-from-text(t: &text): app(build-mode) {
  if eq-text(t, "develop") {
    Right(Develop)
  } else-if eq-text(t, "release") {
    Right(Release)
  } else {
    let t = core.text.append("No such build mode exists: ", t);
    Left(new-error'(t))
  }
}
