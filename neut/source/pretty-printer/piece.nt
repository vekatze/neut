import {
  this.pretty-printer.doc {Empty, doc},
}

data piece {
| Piece(
    content: doc,
    single-modifier: (doc) -> doc,
    multi-modifier: (doc) -> doc,
  )
}

define _remove-nil(ps: list(piece)): list(piece) {
  match ps {
  | Nil =>
    Nil
  | Cons(p, rest) =>
    let Piece(c, f, g) = p;
    match c {
    | Empty =>
      _remove-nil(rest)
    | c =>
      Cons(Piece(c, f, g), _remove-nil(rest))
    }
  }
}
