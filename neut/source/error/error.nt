import {
  this.logger.hint {hint},
  this.logger.log {Log, log},
  this.logger.log-level {Critical, Error},
}

data error {
| Make-Error(list(log))
}

define join(es: list(error)): error {
  Make-Error(core.list.concat(core.list.for-each(es, function (e) {
    let Make-Error(rs) = e;
    rs
  })))
}

define new-error(m: hint, content: text): error {
  Make-Error(List[Log of {content, level := Error, position := Right(m)}])
}

define new-error'(content: text): error {
  Make-Error(List[Log of {content, level := Error, position := none}])
}

define new-critical(m: hint, content: text): error {
  Make-Error(List[Log of {content, level := Critical, position := Right(m)}])
}
